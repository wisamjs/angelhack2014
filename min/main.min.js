var canvas=document.getElementById("myCanvas"),ctx=canvas.getContext("2d");document.body.appendChild(canvas);var debug,lives=3,fall=!0,fingers=[],bugs=[],then=Date.now(),background=new Image;background.src="img/sky.jpg";var init=function(){lives=3;for(var s=0;10>s;s++){var e={posX:120*s,posY:500};fingers.push(e)}main(fingers)},main=function(){var s=Date.now(),e=s-then;initBug(),update(e/1e3),render(),then=s,requestAnimationFrame(main)},initBug=function(){for(var s=0;3>s;s++){var e={speedX:120,speedY:120,posX:Math.floor(100*Math.random()),posY:Math.floor(600*Math.random())};console.log(e.posX,e.posY),e.speedX=Math.floor(512*Math.random()-256),bugs.push(e)}},update=function(s){for(var e=0;e<bugs.length;e++)for(bugs[e].posX=bugs[e].posX+bugs[e].speedX*s;fall;){for(var o=0;o<fingers.length;o++)bugs[e].posX<=fingers[o].posX+20||bugs[e].posX>=fingers[o].posX-20?(bugs[e].posY=fingers[o].posY,fall=!1):bugs[e].posY=bugs[e].posY+bugs[e].speedY*s;console.log(bugs[e].posY),bugs[e].posY<=0&&(lives-=1,initBug()),console.log(lives),0>=lives&&(alert("You are a loser"),init())}render(bugs,fingers)},render=function(){ctx.drawImage(background,0,0);for(var s=0;s<bugs.length;s++)ctx.fillStyle="rgb(100,100,100)",ctx.fillRect(bugs[s].posX,bugs[s].posY,50,50);for(var e=0;e<fingers.length;e++)ctx.fillStyle="hsl(100, 100%, 60%)",ctx.fillRect(fingers[e].posX,fingers[e].posY,100,100)};init();