var canvas=document.getElementById("myCanvas"),ctx=canvas.getContext("2d");document.body.appendChild(canvas);var debug,lives=3,fingers=[],bugs=[],then=Date.now(),temp=0,bugImage=new Image,fingerImage=new Image;fingerImage.src="img/cloud.png";var background=new Image;background.src="img/sky.jpg";var init=function(){lives=3;for(var e=0;10>e;e++){var s={posX:120*e,posY:500};fingers.push(s)}initBug(),main(fingers)},main=function(){var e=Date.now(),s=e-then;update(s/1e3),render(),then=e,requestAnimationFrame(main)},initBug=function(){for(var e=0;1>e;e++){var s={speedX:120,speedY:20,posX:Math.floor(1200*Math.random()),posY:0,fall:!0};s.speedX=Math.floor(412*Math.random()-156),s.path=s.speedX>0?"img/LadybugRight.png":"img/Ladybug.png",bugImage.src=s.path,bugs.push(s)}},update=function(e){console.log(e);for(var s=0;s<bugs.length;s++)for(var g=0;g<fingers.length;g++)bugs[s].fall=bugs[s].posX<=fingers[g].posX+50&&fingers[g].posX<=bugs[s].posX+50&&bugs[s].posY<=fingers[g].posY+30&&fingers[g].posY<=bugs[s].posY+30?!1:!0,bugs[s].fall?(bugs[s].posY=bugs[s].posY+bugs[s].speedY*e,bugs[s].posY>=600&&(bugs[s].fall=!1,bugs.splice(s,1),lives-=1,lives>=1?initBug():alert("You lost :("))):(bugs[s].posY=fingers[g].posY-30,bugs[s].posX=bugs[s].posX+bugs[s].speedX*e)},render=function(){ctx.drawImage(background,0,0);for(var e=0;e<bugs.length;e++)ctx.drawImage(bugImage,bugs[e].posX,bugs[e].posY);for(var s=0;s<fingers.length;s++)ctx.drawImage(fingerImage,fingers[s].posX,fingers[s].posY);ctx.fillStyle="rgb(250, 250, 250)",ctx.font="24px Helvetica",ctx.textAlign="left",ctx.textBaseline="top",ctx.fillText("Lives: "+lives,32,32)};init();